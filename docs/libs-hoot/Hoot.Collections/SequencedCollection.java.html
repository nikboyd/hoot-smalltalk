<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SequencedCollection.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">libs-hoot</a> &gt; <a href="index.source.html" class="el_package">Hoot.Collections</a> &gt; <span class="el_source">SequencedCollection.java</span></div><h1>SequencedCollection.java</h1><pre class="source lang-java linenums">/**
* Copyright 2010,2021 Nikolas S Boyd.
Permission is granted to copy this work provided this copyright statement is retained in all copies.

*/
package Hoot.Collections;

import Hoot.Runtime.Functions.*;
import Hoot.Runtime.Faces.*;
import Hoot.Runtime.Values.*;
import Hoot.Runtime.Blocks.*;
import Smalltalk.Core.*;
import Smalltalk.Blocks.*;
import Hoot.Behaviors.*;
import Hoot.Behaviors.Nil;
import Hoot.Behaviors.Object;
import Hoot.Behaviors.True;
import Hoot.Behaviors.False;
import Hoot.Behaviors.Boolean;
import Hoot.Magnitudes.*;
import Hoot.Magnitudes.Integer;
import Hoot.Magnitudes.Character;
import Hoot.Magnitudes.Float;
import Hoot.Magnitudes.Double;
import Hoot.Magnitudes.Number;
import Hoot.Magnitudes.Integer;
import static Hoot.Magnitudes.SmallInteger.*;
import Hoot.Streams.WriteStream;
import Hoot.Streams.ReadStream;
import Smalltalk.Blocks.*;
import Smalltalk.Collections.*;
import Smalltalk.Magnitudes.Ordinal;
import Smalltalk.Magnitudes.Numeric;
import Smalltalk.Core.Subject;

<span class="fc" id="L36">public abstract class SequencedCollection&lt;ElementType extends Object&gt; extends Collection&lt;ElementType&gt; implements CollectedOrdinally&lt;ElementType&gt;</span>
{
<span class="nc" id="L38">  public static Metaclass type() { return (Metaclass)Metaclass.$class; }</span>
<span class="nc" id="L39">  @Override public Metaclass $class() { return (Metaclass)Metaclass.$class; }</span>
  public static class Metaclass extends Collection.Metaclass implements CollectedOrdinally.Metatype
  {
<span class="fc" id="L42">    static final SequencedCollection.Metaclass $class = new SequencedCollection.Metaclass();</span>
    public Metaclass() {
<span class="fc" id="L44">      this(SequencedCollection.Metaclass.class);</span>
<span class="fc" id="L45">    }</span>

    public Metaclass(java.lang.Class aClass) {
<span class="fc" id="L48">      super(aClass);</span>
<span class="fc" id="L49">    }</span>

<span class="fc" id="L51">    @Override public java.lang.Class outerClass() { return SequencedCollection.class; }</span>

  }


  /**
   * @return 
   */
  abstract protected   ElementType get(final int index);

  /**
   * @return 
   */
  abstract protected   ElementType add_at(final ElementType element, final int index);

  /**
   * @return 
   */
  public   ElementType first()
  {
<span class="nc" id="L71">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;first&quot;;</span>
<span class="nc" id="L72">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L73">    this.emptyCheck();</span>
<span class="nc" id="L74">    return (ElementType)this.at(SmallInteger.from(1));</span>
  }

  /**
   * @return 
   */
  public   ElementType last()
  {
<span class="nc" id="L82">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;last&quot;;</span>
<span class="nc" id="L83">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L84">    this.emptyCheck();</span>
<span class="nc" id="L85">    return (ElementType)this.at(this.size());</span>
  }

  /**
   * @return 
   */
  public   ElementType at(final Numeric index)
  {
<span class="nc" id="L93">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;at&quot;;</span>
<span class="nc" id="L94">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L95">    return (ElementType)this.at(index.asInteger());</span>
  }

  /**
   * @return 
   */
  public   ElementType at_ifAbsent(final Numeric index, final NiladicValuable noneBlock)
  {
<span class="nc" id="L103">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;at_ifAbsent&quot;;</span>
<span class="nc" id="L104">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L105">    return (ElementType)this.at_ifAbsent(index.asInteger(), noneBlock);</span>
  }

  /**
   * @return 
   */
  public   ElementType at(final Ordinal index)
  {
<span class="fc" id="L113">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;at&quot;;</span>
<span class="fc" id="L114">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L115">    return (ElementType)this.at_ifAbsent(index, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L116">      return this.indexRangeError();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType at_ifAbsent(final Ordinal index, final NiladicValuable noneBlock)
  {
<span class="fc" id="L125">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;at_ifAbsent&quot;;</span>
<span class="fc" id="L126">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L127">    int i = this.checkIndex_ifAbsent(index, noneBlock);</span>
<span class="fc" id="L128">    return (ElementType)this.get(i);</span>
  }

  /**
   * @return 
   */
  public   Integer nextIndexOf_from_to(final ElementType element, final Integer start, final Integer stop)
  {
<span class="nc" id="L136">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;nextIndexOf_from_to&quot;;</span>
<span class="nc" id="L137">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L138">    return (Integer)this.nextIndexOf_from_to_ifAbsent(element, start, stop, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L139">      return Negativity;</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   Integer nextIndexOf_from_to_ifAbsent(final ElementType element, final Integer start, final Integer stop, final NiladicValuable noneBlock)
  {
<span class="nc" id="L148">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;nextIndexOf_from_to_ifAbsent&quot;;</span>
<span class="nc" id="L149">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L150">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L151">    start.to_do(stop, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L152">      Integer i = f2.getValue(0).value();</span>
<span class="nc" id="L153">      return (Integer)f0.exit(exitID, (this.at(i).equals(element)).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L154">      return (Integer)f0.exit(exitID, i);</span>
    }, &quot;&quot;)));
    }, &quot;i&quot;));
<span class="nc" id="L157">    return (Integer)f0.exit(exitID, noneBlock.value());</span>
    });
  }

  /**
   * @return 
   */
  public   Integer prevIndexOf_from_to(final ElementType element, final Integer start, final Integer stop)
  {
<span class="nc" id="L166">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;prevIndexOf_from_to&quot;;</span>
<span class="nc" id="L167">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L168">    return (Integer)this.prevIndexOf_from_to_ifAbsent(element, start, stop, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L169">      return Negativity;</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   Integer prevIndexOf_from_to_ifAbsent(final ElementType element, final Integer start, final Integer stop, final NiladicValuable noneBlock)
  {
<span class="nc" id="L178">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;prevIndexOf_from_to_ifAbsent&quot;;</span>
<span class="nc" id="L179">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L180">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L181">    start.to_by_do(stop, (SmallInteger.from(0).minus(SmallInteger.from(1))), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L182">      Integer i = f2.getValue(0).value();</span>
<span class="nc" id="L183">      return (Integer)f0.exit(exitID, (this.at(i).equals(element)).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L184">      return (Integer)f0.exit(exitID, i);</span>
    }, &quot;&quot;)));
    }, &quot;i&quot;));
<span class="nc" id="L187">    return (Integer)f0.exit(exitID, noneBlock.value());</span>
    });
  }

  /**
   * @return 
   */
  public   ElementType after(final ElementType leadingElement)
  {
<span class="nc" id="L196">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;after&quot;;</span>
<span class="nc" id="L197">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L198">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L199">    Integer index = this.nextIndexOf_from_to_ifAbsent(leadingElement, SmallInteger.from(1), this.size(), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L200">      this.elementNotFound();</span>
<span class="nc" id="L201">    return (ElementType)f0.exit(exitID, Zero);</span>
    }, &quot;&quot;));
<span class="nc" id="L203">    return (ElementType)f0.exit(exitID, this.at((index.plus(SmallInteger.from(1))).asInteger()));</span>
    });
  }

  /**
   * @return 
   */
  public   ElementType before(final ElementType trailingElement)
  {
<span class="nc" id="L212">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;before&quot;;</span>
<span class="nc" id="L213">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L214">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L215">    Integer index = this.prevIndexOf_from_to_ifAbsent(trailingElement, this.size(), SmallInteger.from(1), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L216">      this.elementNotFound();</span>
<span class="nc" id="L217">    return (ElementType)f0.exit(exitID, Zero);</span>
    }, &quot;&quot;));
<span class="nc" id="L219">    return (ElementType)f0.exit(exitID, this.at((index.minus(SmallInteger.from(1))).asInteger()));</span>
    });
  }

  /**
   * @return 
   */
  public   Integer indexOf(final ElementType element)
  {
<span class="nc" id="L228">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;indexOf&quot;;</span>
<span class="nc" id="L229">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L230">    return (Integer)this.indexOf_ifAbsent(element, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L231">      return Zero;</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   Integer indexOf_ifAbsent(final ElementType element, final NiladicValuable noneBlock)
  {
<span class="nc" id="L240">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;indexOf_ifAbsent&quot;;</span>
<span class="nc" id="L241">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L242">    return (Integer)this.nextIndexOf_from_to_ifAbsent(element, SmallInteger.from(1), this.size(), noneBlock);</span>
  }

  /**
   * @return 
   */
  public   Integer indexOfSubCollection_startingAt(final CollectedReadably&lt;ElementType&gt; subCollection, final Ordinal anIndex)
  {
<span class="nc" id="L250">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;indexOfSubCollection_startingAt&quot;;</span>
<span class="nc" id="L251">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L252">    return (Integer)this.indexOfSubCollection_startingAt_ifAbsent(subCollection, anIndex, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L253">      return Zero;</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   Integer indexOfSubCollection_startingAt_ifAbsent(final CollectedReadably&lt;ElementType&gt; subCollection, final Ordinal anIndex, final NiladicValuable noneBlock)
  {
<span class="nc" id="L262">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;indexOfSubCollection_startingAt_ifAbsent&quot;;</span>
<span class="nc" id="L263">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L264">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L265">    Ordinal subSize = subCollection.size();</span>
<span class="nc" id="L266">    (Zero.equals(subSize)).ifTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L267">      return (Integer)f0.exit(exitID, noneBlock.value());</span>
    }, &quot;&quot;));

<span class="nc" id="L270">    ElementType firstElement = subCollection.at(Unity);</span>
<span class="nc" id="L271">    (Unity.equals(subSize)).ifTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L272">      return (Integer)f0.exit(exitID, this.nextIndexOf_from_to_ifAbsent(firstElement, ((Integer)anIndex), this.size(), Closure.with(f3 -&gt; {</span>
<span class="nc" id="L273">      return (Integer)f0.exit(exitID, noneBlock.value());</span>
    }, &quot;&quot;)));
    }, &quot;&quot;));

<span class="nc" id="L277">    FastInteger matchIndex = FastInteger.fromInteger(((Integer)anIndex));</span>

<span class="nc" id="L279">    Number finalIndex = this.size().minus(subSize).plus(Unity);</span>
<span class="nc" id="L280">    Predicate.with(f2 -&gt; {</span>
<span class="nc" id="L281">      return (matchIndex.notMore(finalIndex));</span>
<span class="nc" id="L282">    }, &quot;&quot;).whileTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L283">      (this.at(matchIndex).equals(firstElement)).ifTrue(Closure.with(f3 -&gt; {</span>
      
<span class="nc" id="L285">    FastInteger index = FastInteger.fromInteger(Duality);</span>
<span class="nc" id="L286">    return (Integer)f0.exit(exitID, Predicate.with(f4 -&gt; {</span>
<span class="nc" id="L287">      return (this.at(matchIndex.plus(index).minus(Unity)).equals(subCollection.at(index)));</span>
<span class="nc" id="L288">    }, &quot;&quot;).whileTrue(Closure.with(f4 -&gt; {</span>
<span class="nc" id="L289">      (index.equals(subSize)).ifTrue(Closure.with(f5 -&gt; {</span>
<span class="nc" id="L290">      return (Integer)f0.exit(exitID, matchIndex);</span>
    }, &quot;&quot;));
<span class="nc" id="L292">    index.add(Unity);</span>
<span class="nc" id="L293">    }, &quot;&quot;)));</span>
    }, &quot;&quot;));
<span class="nc" id="L295">    matchIndex.add(Unity);</span>
<span class="nc" id="L296">    }, &quot;&quot;));</span>
<span class="nc" id="L297">    return (Integer)f0.exit(exitID, noneBlock.value());</span>
    });
  }

  /**
   * @return 
   */
  @Override public   Integer occurrencesOf(final Subject anObject)
  {
<span class="nc" id="L306">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;occurrencesOf&quot;;</span>
<span class="nc" id="L307">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L308">    FastInteger tally = FastInteger.fromInteger(Zero);</span>
<span class="nc" id="L309">    this.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L310">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L311">      return (anObject.equals(element)).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L312">      return tally.add(Unity);</span>
    }, &quot;&quot;));
    }, &quot;element&quot;));
<span class="nc" id="L315">    return (Integer)tally;</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; append(final CollectedReadably&lt;ElementType&gt; aCollection)
  {
<span class="nc" id="L323">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;append&quot;;</span>
<span class="nc" id="L324">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L325">    return (SequencedCollection&lt;ElementType&gt;)this.copyReplaceFrom_to_with((Unity.plus(this.size())), this.size(), aCollection);</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyFrom_to(final Ordinal start, final Ordinal stop)
  {
<span class="nc" id="L333">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyFrom_to&quot;;</span>
<span class="nc" id="L334">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L335">    Integer newSize = (Unity.plus((stop.minus(start))));</span>
<span class="nc" id="L336">    return (SequencedCollection&lt;ElementType&gt;)((SequencedCollection)this.species().$new(newSize)).replaceFrom_to_with_startingAt(Unity, newSize, this, start);</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyReplaceAll_with(final CollectedReadably&lt;ElementType&gt; oldElements, final CollectedReadably&lt;ElementType&gt; newElements)
  {
<span class="nc" id="L344">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyReplaceAll_with&quot;;</span>
<span class="nc" id="L345">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L346">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L347">    Integer oldIndex = Unity ; f0.bind(&quot;oldIndex&quot;, oldIndex);</span>

<span class="nc" id="L349">    Integer matchIndex = this.indexOfSubCollection_startingAt(oldElements, f0.getValue(&quot;oldIndex&quot;, Integer.class)) ; f0.bind(&quot;matchIndex&quot;, matchIndex);</span>
<span class="nc" id="L350">    (Zero.lessThan(f0.getValue(&quot;matchIndex&quot;, Integer.class))).ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L351">      return (SequencedCollection&lt;ElementType&gt;)f0.exit(exitID, this.copy());</span>
    }, &quot;&quot;));

<span class="nc" id="L354">    OrderedCollection&lt;Integer&gt; matchIndices = OrderedCollection.type().with(f0.getValue(&quot;matchIndex&quot;, Integer.class));</span>
<span class="nc" id="L355">    Predicate.with(f2 -&gt; {</span>
<span class="nc" id="L356">      ; f0.bind(&quot;matchIndex&quot;, this.indexOfSubCollection_startingAt(oldElements, (oldElements.size().plus(f0.getValue(&quot;matchIndex&quot;, Integer.class))).asInteger()));</span>
<span class="nc" id="L357">    return (Zero.lessThan(f0.getValue(&quot;matchIndex&quot;, Integer.class)));</span>
<span class="nc" id="L358">    }, &quot;&quot;).whileTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L359">      return matchIndices.addLast(f0.getValue(&quot;matchIndex&quot;, Integer.class));</span>
    }, &quot;&quot;));

<span class="nc" id="L362">    Integer newIndex = Unity ; f0.bind(&quot;newIndex&quot;, newIndex);</span>

<span class="nc" id="L364">    Integer newPlace = Zero ; f0.bind(&quot;newPlace&quot;, newPlace);</span>

<span class="nc" id="L366">    Integer newSize = (this.size().plus(((newElements.size().minus(oldElements.size())).times(matchIndices.size())))).asInteger();</span>

<span class="nc" id="L368">    SequencedCollection results = ((SequencedCollection)this.species().$new(newSize));</span>
<span class="nc" id="L369">    Predicate.with(f2 -&gt; {</span>
<span class="nc" id="L370">      return matchIndices.notEmpty();</span>
<span class="nc" id="L371">    }, &quot;&quot;).whileTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L372">      ; f0.bind(&quot;matchIndex&quot;, matchIndices.removeFirst());</span>
<span class="nc" id="L373">    ; f0.bind(&quot;newPlace&quot;, ((Integer)f0.getValue(&quot;newIndex&quot;, Integer.class)).plus(f0.getValue(&quot;matchIndex&quot;, Integer.class)).minus(f0.getValue(&quot;oldIndex&quot;, Integer.class)));</span>
<span class="nc" id="L374">    results.replaceFrom_to_with_startingAt(f0.getValue(&quot;newIndex&quot;, Integer.class), (Negativity.plus(f0.getValue(&quot;newPlace&quot;, Integer.class))), this, f0.getValue(&quot;oldIndex&quot;, Integer.class));</span>
<span class="nc" id="L375">    ; f0.bind(&quot;oldIndex&quot;, (oldElements.size().plus(f0.getValue(&quot;matchIndex&quot;, Integer.class))));</span>
<span class="nc" id="L376">    ; f0.bind(&quot;newIndex&quot;, (newElements.size().plus(f0.getValue(&quot;newPlace&quot;, Integer.class))));</span>
<span class="nc" id="L377">    return results.replaceFrom_to_with_startingAt(f0.getValue(&quot;newPlace&quot;, Integer.class), (Negativity.plus(f0.getValue(&quot;newIndex&quot;, Integer.class))), newElements, Unity);</span>
    }, &quot;&quot;));
<span class="nc" id="L379">    results.replaceFrom_to_with_startingAt(f0.getValue(&quot;newIndex&quot;, Integer.class), results.size(), this, f0.getValue(&quot;oldIndex&quot;, Integer.class));</span>
<span class="nc" id="L380">    return (SequencedCollection&lt;ElementType&gt;)f0.exit(exitID, results);</span>
    });
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyReplaceFrom_to_with(final Ordinal start, final Ordinal stop, final CollectedReadably&lt;ElementType&gt; replacements)
  {
<span class="nc" id="L389">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyReplaceFrom_to_with&quot;;</span>
<span class="nc" id="L390">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L391">    Integer newSize = this.size().minus(Unity.plus(stop).minus(start)).plus(replacements.size()).asInteger();</span>

<span class="nc" id="L393">    Integer end = SmallInteger.from(start.minus(Unity).plus(replacements.size()));</span>
    {
<span class="nc" id="L395">    SequencedCollection prime = (SequencedCollection)this.species().$new(newSize);</span>
<span class="nc" id="L396">    prime.replaceFrom_to_with_startingAt(Unity, (start.minus(Unity)).asInteger(), this, Unity); </span>
<span class="nc" id="L397">    prime.replaceFrom_to_with_startingAt(start, end, replacements, Unity); </span>

<span class="nc" id="L399">    return prime.replaceFrom_to_with_startingAt((Unity.plus(end)), newSize, this, (Unity.plus(stop)));</span>
    }
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyReplaceFrom_to_withObject(final Ordinal start, final Ordinal stop, final ElementType replacement)
  {
<span class="nc" id="L408">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyReplaceFrom_to_withObject&quot;;</span>
<span class="nc" id="L409">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L410">    FastInteger size = (((Integer)stop).minus(start)).asSmallInteger().asFastInteger();</span>
<span class="nc" id="L411">    (size.lessThan(SmallInteger.from(0))).ifTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L412">      return size.subtract(size);</span>
    }, &quot;&quot;));
<span class="nc" id="L414">    size.add(Unity);</span>

<span class="nc" id="L416">    Array replacements = Array.type().$new(size);</span>
<span class="nc" id="L417">    replacements.atAllPut(replacement);</span>
<span class="nc" id="L418">    return (SequencedCollection&lt;ElementType&gt;)this.copyReplaceFrom_to_with(start, stop, replacements);</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyWith(final ElementType newElement)
  {
<span class="nc" id="L426">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyWith&quot;;</span>
<span class="nc" id="L427">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L428">    Integer newSize = (Unity.plus(this.size()));</span>
    {
<span class="nc" id="L430">    SequencedCollection prime = (SequencedCollection)this.species().$new(newSize);</span>
<span class="nc" id="L431">    prime.at_put(newSize, newElement); </span>

<span class="nc" id="L433">    return prime.replaceFrom_to_with_startingAt(Unity, this.size(), this, Unity);</span>
    }
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyWithout(final ElementType oldElement)
  {
<span class="nc" id="L442">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyWithout&quot;;</span>
<span class="nc" id="L443">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L444">    WriteStream aStream = WriteStream.type().with(this.species().$new(this.size()).asOrderedCollection());</span>
<span class="nc" id="L445">    this.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L446">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L447">      return (oldElement.equals(element)).ifFalse(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L448">      return aStream.nextPut(element);</span>
    }, &quot;&quot;));
    }, &quot;element&quot;));
<span class="nc" id="L451">    return (SequencedCollection&lt;ElementType&gt;)((SequencedCollection)aStream.contents());</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; copyReplacing_withObject(final ElementType oldElement, final ElementType newElement)
  {
<span class="nc" id="L459">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;copyReplacing_withObject&quot;;</span>
<span class="nc" id="L460">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L461">    return (SequencedCollection&lt;ElementType&gt;)this.collect(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L462">      ElementType each = f2.getValue(0).value();</span>
<span class="nc bnc" id="L463" title="All 2 branches missed.">      return (Boolean.primitiveValue(each.equals(oldElement)) ? newElement : each);</span>
    }, &quot;each&quot;));
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; reverse()
  {
<span class="nc" id="L472">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;reverse&quot;;</span>
<span class="nc" id="L473">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L474">    OrderedCollection results = OrderedCollection.type().$new(this.size());</span>
<span class="nc" id="L475">    this.reverseDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L476">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L477">      return results.add(element);</span>
    }, &quot;element&quot;));
<span class="nc" id="L479">    return (SequencedCollection&lt;ElementType&gt;)results;</span>
  }

  /**
   * @return 
   */
  @Override public   SequencedCollection&lt;ElementType&gt; collect(final MonadicValuable filterBlock)
  {
<span class="nc" id="L487">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;collect&quot;;</span>
<span class="nc" id="L488">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L489">    OrderedCollection results = OrderedCollection.type().$new(this.size());</span>
<span class="nc" id="L490">    Unity.to_do(this.size(), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L491">      Integer index = f2.getValue(0).value();</span>
<span class="nc" id="L492">      return results.at_put(index, ((Object)filterBlock.value(this.at(index))));</span>
    }, &quot;index&quot;));
<span class="nc" id="L494">    return (SequencedCollection&lt;ElementType&gt;)results;</span>
  }

  /**
   * @return 
   */
  @Override public   Integer findFirst(final MonadicPredicate testBlock)
  {
<span class="nc" id="L502">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;findFirst&quot;;</span>
<span class="nc" id="L503">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L504">    return (Integer)this.findFirst_ifAbsent(testBlock, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L505">      return Zero;</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  @Override public   Integer findFirst_ifAbsent(final MonadicPredicate testBlock, final NiladicValuable noneBlock)
  {
<span class="nc" id="L514">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;findFirst_ifAbsent&quot;;</span>
<span class="nc" id="L515">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L516">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L517">    Unity.to_do(this.size(), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L518">      Integer index = f2.getValue(0).value();</span>
<span class="nc" id="L519">      return (Integer)f0.exit(exitID, testBlock.value(this.at(index)).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L520">      return (Integer)f0.exit(exitID, index);</span>
    }, &quot;&quot;)));
    }, &quot;index&quot;));
<span class="nc" id="L523">    return (Integer)f0.exit(exitID, noneBlock.value());</span>
    });
  }

  /**
   * @return 
   */
  @Override public   Integer findLast(final MonadicPredicate testBlock)
  {
<span class="nc" id="L532">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;findLast&quot;;</span>
<span class="nc" id="L533">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L534">    return (Integer)this.findLast_ifAbsent(testBlock, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L535">      return Zero;</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  @Override public   Integer findLast_ifAbsent(final MonadicPredicate testBlock, final NiladicValuable noneBlock)
  {
<span class="nc" id="L544">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;findLast_ifAbsent&quot;;</span>
<span class="nc" id="L545">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L546">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L547">    this.size().to_by_do(Unity, Negativity, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L548">      Integer index = f2.getValue(0).value();</span>
<span class="nc" id="L549">      return (Integer)f0.exit(exitID, testBlock.value(this.at(index)).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L550">      return (Integer)f0.exit(exitID, index);</span>
    }, &quot;&quot;)));
    }, &quot;index&quot;));
<span class="nc" id="L553">    return (Integer)f0.exit(exitID, noneBlock.value());</span>
    });
  }

  /**
   * @return 
   */
  public   SequencedCollection from_to_do(final Ordinal start, final Ordinal stop, final MonadicValuable aBlock)
  {
<span class="nc" id="L562">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;from_to_do&quot;;</span>
<span class="nc" id="L563">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L564">    start.to_do(stop, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L565">      Integer i = f2.getValue(0).value();</span>
<span class="nc" id="L566">      return aBlock.value(this.at(i));</span>
    }, &quot;i&quot;));
<span class="nc" id="L568">    return (SequencedCollection)this;</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection from_to_keysAndValuesDo(final Ordinal start, final Ordinal stop, final DyadicValuable aBlock)
  {
<span class="nc" id="L576">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;from_to_keysAndValuesDo&quot;;</span>
<span class="nc" id="L577">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L578">    start.to_do(stop, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L579">      Integer i = f2.getValue(0).value();</span>
<span class="nc" id="L580">      return aBlock.value_value(this.at(i), i);</span>
    }, &quot;i&quot;));
<span class="nc" id="L582">    return (SequencedCollection)this;</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection keysAndValuesDo(final DyadicValuable aBlock)
  {
<span class="nc" id="L590">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;keysAndValuesDo&quot;;</span>
<span class="nc" id="L591">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L592">    this.from_to_keysAndValuesDo(Unity, this.size(), aBlock);</span>
<span class="nc" id="L593">    return (SequencedCollection)this;</span>
  }

  /**
   * @return 
   */
  @Override public   SequencedCollection $do(final MonadicValuable aBlock)
  {
<span class="fc" id="L601">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;$do&quot;;</span>
<span class="fc" id="L602">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L603">    Unity.to_do(this.size(), Closure.with(f2 -&gt; {</span>
<span class="fc" id="L604">      Integer i = f2.getValue(0).value();</span>
<span class="fc" id="L605">      return aBlock.value(this.at(i));</span>
    }, &quot;i&quot;));
<span class="fc" id="L607">    return (SequencedCollection)this;</span>
  }

  /**
   * @return 
   */
  @Override public   SequencedCollection do_separatedBy(final MonadicValuable aBlock, final NiladicValuable separateBlock)
  {
<span class="nc" id="L615">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;do_separatedBy&quot;;</span>
<span class="nc" id="L616">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L617">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L618">    this.notEmpty().ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L619">      return (SequencedCollection)f0.exit(exitID, this);</span>
    }, &quot;&quot;));
<span class="nc" id="L621">    aBlock.value(this.at(SmallInteger.from(1)));</span>
<span class="nc" id="L622">    Duality.to_do(this.size(), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L623">      Integer i = f2.getValue(0).value();</span>
<span class="nc" id="L624">      separateBlock.value();</span>
<span class="nc" id="L625">    return aBlock.value(this.at(i));</span>
    }, &quot;i&quot;));
<span class="nc" id="L627">    return (SequencedCollection)this;</span>
    });
  }

  /**
   * @return 
   */
  @Override public   SequencedCollection reverseDo(final MonadicValuable aBlock)
  {
<span class="nc" id="L636">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;reverseDo&quot;;</span>
<span class="nc" id="L637">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L638">    this.size().to_by_do(Unity, Negativity, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L639">      Integer i = f2.getValue(0).value();</span>
<span class="nc" id="L640">      return aBlock.value(this.at(i));</span>
    }, &quot;i&quot;));
<span class="nc" id="L642">    return (SequencedCollection)this;</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection with_do(final CollectedReadably&lt;ElementType&gt; aCollection, final DyadicValuable aBlock)
  {
<span class="nc" id="L650">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;with_do&quot;;</span>
<span class="nc" id="L651">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L652">    (this.size().isSame(aCollection.size())).ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L653">      this.error(String.from(&quot;Collections are of different sizes&quot;));</span>
<span class="nc" id="L654">    }, &quot;&quot;));</span>
<span class="nc" id="L655">    Unity.to_do(this.size(), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L656">      Integer index = f2.getValue(0).value();</span>
<span class="nc" id="L657">      return aBlock.value_value(this.at(index), aCollection.at(index));</span>
    }, &quot;index&quot;));
<span class="nc" id="L659">    return (SequencedCollection)this;</span>
  }

  /**
   * @return 
   */
  public   ReadStream&lt;ElementType&gt; readStream()
  {
<span class="nc" id="L667">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;readStream&quot;;</span>
<span class="nc" id="L668">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L669">    return (ReadStream&lt;ElementType&gt;)ReadStream.type().on(this);</span>
  }

  /**
   * @return 
   */
  @Override public   Boolean equals(final Collected&lt;ElementType&gt; aCollection)
  {
<span class="nc" id="L677">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;equals&quot;;</span>
<span class="nc" id="L678">    Frame f0 = new Frame(exitID);</span>
<span class="nc bnc" id="L679" title="All 2 branches missed.">    if (!(aCollection instanceof CollectedReadably)) {</span>
<span class="nc" id="L680">      return False.literal();</span>
    };
<span class="nc" id="L682">    return (Boolean)this.equals(((CollectedReadably)aCollection));</span>
  }

  /**
   * @return 
   */
  public   Boolean equals(final CollectedReadably&lt;ElementType&gt; aCollection)
  {
<span class="nc" id="L690">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;equals&quot;;</span>
<span class="nc" id="L691">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L692">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L693">    (this.size().equals(aCollection.size())).ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L694">      return (Boolean)f0.exit(exitID, False.literal());</span>
    }, &quot;&quot;));
<span class="nc" id="L696">    this.with_do(aCollection, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L697">      ElementType a = f2.getValue(0).value();</span>
<span class="nc" id="L698">      ElementType b = f2.getValue(1).value();</span>
<span class="nc" id="L699">      (a.equals(b)).ifFalse(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L700">      return (Boolean)f0.exit(exitID, False.literal());</span>
    }, &quot;&quot;));
<span class="nc" id="L702">    }, &quot;a&quot;, &quot;b&quot;));</span>
<span class="nc" id="L703">    return (Boolean)f0.exit(exitID, True.literal());</span>
    });
  }

  /**
   * @return 
   */
  public   Boolean includesIndex(final Ordinal index)
  {
<span class="nc" id="L712">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;includesIndex&quot;;</span>
<span class="nc" id="L713">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L714">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L715">    (index.lessThan(Zero)).ifTrue(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L716">      return (Boolean)f0.exit(exitID, False.literal());</span>
    }, &quot;&quot;));
<span class="nc" id="L718">    return (Boolean)f0.exit(exitID, Boolean.from((index.lessThan(this.size()))));</span>
    });
  }

  /**
   * @return 
   */
  public   ElementType at_put(final Ordinal index, final ElementType element)
  {
<span class="nc" id="L727">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;at_put&quot;;</span>
<span class="nc" id="L728">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L729">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType atAll_put(final CollectedReadably&lt;Ordinal&gt; index, final ElementType element)
  {
<span class="nc" id="L737">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;atAll_put&quot;;</span>
<span class="nc" id="L738">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L739">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType atAllPut(final ElementType element)
  {
<span class="nc" id="L747">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;atAllPut&quot;;</span>
<span class="nc" id="L748">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L749">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; replaceFrom_to_with_startingAt(final Ordinal start, final Ordinal stop, final CollectedReadably&lt;ElementType&gt; replacements, final Ordinal origin)
  {
<span class="nc" id="L757">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;replaceFrom_to_with_startingAt&quot;;</span>
<span class="nc" id="L758">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L759">    Integer offset = (((Integer)origin).minus(((Integer)start))).asInteger();</span>
<span class="nc" id="L760">    (this.isSame(replacements)).and(Predicate.with(f2 -&gt; {</span>
<span class="nc" id="L761">      return (((Integer)origin).lessThan(((Integer)start)));</span>
<span class="nc" id="L762">    }, &quot;&quot;)).ifTrue_ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L763">      return stop.to_by_do(start, Negativity, Closure.with(f3 -&gt; {</span>
<span class="nc" id="L764">      Integer i = f3.getValue(0).value();</span>
<span class="nc" id="L765">      return this.at_put(i, replacements.at((i.plus(offset))));</span>
    }, &quot;i&quot;));
<span class="nc" id="L767">    }, &quot;&quot;), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L768">      return start.to_do(stop, Closure.with(f3 -&gt; {</span>
<span class="nc" id="L769">      Integer i = f3.getValue(0).value();</span>
<span class="nc" id="L770">      return this.at_put(i, replacements.at((i.plus(offset))));</span>
    }, &quot;i&quot;));
    }, &quot;&quot;));
<span class="nc" id="L773">    return (SequencedCollection&lt;ElementType&gt;)((SequencedCollection)replacements);</span>
  }

  /**
   * @return 
   */
  public   SequencedCollection&lt;ElementType&gt; replaceFrom_to_with(final Ordinal start, final Ordinal stop, final CollectedReadably&lt;ElementType&gt; replacements)
  {
<span class="nc" id="L781">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;replaceFrom_to_with&quot;;</span>
<span class="nc" id="L782">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L783">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L784">    (replacements.size().isSame(stop.minus(start).plus(SmallInteger.from(1)))).ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L785">      this.error(String.from(&quot;size of replacement incorrect&quot;));</span>
<span class="nc" id="L786">    return (SequencedCollection&lt;ElementType&gt;)f0.exit(exitID, replacements);</span>
    }, &quot;&quot;));
<span class="nc" id="L788">    return (SequencedCollection&lt;ElementType&gt;)f0.exit(exitID, this.replaceFrom_to_with_startingAt(start, stop, replacements, SmallInteger.from(1)));</span>
    });
  }

  /**
   * @return 
   */
  public   ElementType replaceFrom_to_withObject(final Ordinal start, final Ordinal stop, final ElementType element)
  {
<span class="nc" id="L797">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;replaceFrom_to_withObject&quot;;</span>
<span class="nc" id="L798">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L799">    Unity.to_do(this.size(), Closure.with(f2 -&gt; {</span>
<span class="nc" id="L800">      Integer index = f2.getValue(0).value();</span>
<span class="nc" id="L801">      return this.at_put(index, element);</span>
    }, &quot;index&quot;));
<span class="nc" id="L803">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType addFirst(final ElementType element)
  {
<span class="nc" id="L811">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addFirst&quot;;</span>
<span class="nc" id="L812">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L813">    this.add_beforeIndex(element, Unity);</span>
<span class="nc" id="L814">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType addLast(final ElementType element)
  {
<span class="nc" id="L822">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addLast&quot;;</span>
<span class="nc" id="L823">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L824">    this.add(element);</span>
<span class="nc" id="L825">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   Collected&lt;ElementType&gt; addAll(final Collected&lt;ElementType&gt; elements)
  {
<span class="fc" id="L833">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAll&quot;;</span>
<span class="fc" id="L834">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L835">    elements.$do(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L836">      ElementType element = f2.getValue(0).value();</span>
<span class="fc" id="L837">      return this.add(element);</span>
    }, &quot;element&quot;));
<span class="fc" id="L839">    return (Collected&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   CollectedReadably&lt;ElementType&gt; addAllFirst(final CollectedReadably&lt;ElementType&gt; elements)
  {
<span class="nc" id="L847">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAllFirst&quot;;</span>
<span class="nc" id="L848">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L849">    elements.reverseDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L850">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L851">      return this.addFirst(element);</span>
    }, &quot;element&quot;));
<span class="nc" id="L853">    return (CollectedReadably&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   CollectedReadably&lt;ElementType&gt; addAllLast(final CollectedReadably&lt;ElementType&gt; elements)
  {
<span class="nc" id="L861">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAllLast&quot;;</span>
<span class="nc" id="L862">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L863">    elements.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L864">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L865">      return this.addLast(element);</span>
    }, &quot;element&quot;));
<span class="nc" id="L867">    return (CollectedReadably&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   CollectedReadably&lt;ElementType&gt; addAll_after(final CollectedReadably&lt;ElementType&gt; elements, final ElementType target)
  {
<span class="nc" id="L875">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAll_after&quot;;</span>
<span class="nc" id="L876">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L877">    return (CollectedReadably&lt;ElementType&gt;)this.addAll_afterIndex(elements, this.indexOf_ifAbsent(target, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L878">      this.elementNotFound();</span>
<span class="nc" id="L879">    }, &quot;&quot;)));</span>
  }

  /**
   * @return 
   */
  public   CollectedReadably&lt;ElementType&gt; addAll_afterIndex(final CollectedReadably&lt;ElementType&gt; elements, final Ordinal index)
  {
<span class="nc" id="L887">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAll_afterIndex&quot;;</span>
<span class="nc" id="L888">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L889">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L890">    elements.inject_into(index, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L891">      Ordinal i = f2.getValue(0).value();</span>
<span class="nc" id="L892">      ElementType e = f2.getValue(1).value();</span>
<span class="nc" id="L893">      this.add_afterIndex(e, i);</span>
<span class="nc" id="L894">    return (CollectedReadably&lt;ElementType&gt;)f0.exit(exitID, (i.plus(Unity)));</span>
    }, &quot;i&quot;, &quot;e&quot;));
<span class="nc" id="L896">    return (CollectedReadably&lt;ElementType&gt;)f0.exit(exitID, elements);</span>
    });
  }

  /**
   * @return 
   */
  public   CollectedReadably&lt;ElementType&gt; addAll_before(final CollectedReadably&lt;ElementType&gt; elements, final ElementType target)
  {
<span class="nc" id="L905">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAll_before&quot;;</span>
<span class="nc" id="L906">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L907">    return (CollectedReadably&lt;ElementType&gt;)this.addAll_beforeIndex(elements, this.indexOf_ifAbsent(target, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L908">      return this.elementNotFound();</span>
    }, &quot;&quot;)));
  }

  /**
   * @return 
   */
  public   CollectedReadably&lt;ElementType&gt; addAll_beforeIndex(final CollectedReadably&lt;ElementType&gt; elements, final Ordinal index)
  {
<span class="nc" id="L917">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;addAll_beforeIndex&quot;;</span>
<span class="nc" id="L918">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L919">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L920">    elements.inject_into(index, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L921">      Ordinal i = f2.getValue(0).value();</span>
<span class="nc" id="L922">      ElementType e = f2.getValue(1).value();</span>
<span class="nc" id="L923">      this.add_beforeIndex(e, i);</span>
<span class="nc" id="L924">    return (CollectedReadably&lt;ElementType&gt;)f0.exit(exitID, (i.plus(Unity)));</span>
    }, &quot;i&quot;, &quot;e&quot;));
<span class="nc" id="L926">    return (CollectedReadably&lt;ElementType&gt;)f0.exit(exitID, elements);</span>
    });
  }

  /**
   * @return 
   */
  public   ElementType add_after(final ElementType element, final ElementType target)
  {
<span class="nc" id="L935">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;add_after&quot;;</span>
<span class="nc" id="L936">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L937">    return (ElementType)this.add_afterIndex(element, this.indexOf_ifAbsent(target, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L938">      this.elementNotFound();</span>
<span class="nc" id="L939">    return Nil.literal();</span>
    }, &quot;&quot;)));
  }

  /**
   * @return 
   */
  public   ElementType add_afterIndex(final ElementType element, final Ordinal index)
  {
<span class="nc" id="L948">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;add_afterIndex&quot;;</span>
<span class="nc" id="L949">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L950">    int i = this.checkRange((Unity.plus(index)));</span>
<span class="nc" id="L951">    this.registerType(((Object)element));</span>
<span class="nc" id="L952">    this.add_at(element, i);</span>
<span class="nc" id="L953">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType add_before(final ElementType element, final ElementType target)
  {
<span class="nc" id="L961">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;add_before&quot;;</span>
<span class="nc" id="L962">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L963">    return (ElementType)this.add_beforeIndex(element, this.indexOf_ifAbsent(target, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L964">      this.elementNotFound();</span>
<span class="nc" id="L965">    return Nil.literal();</span>
    }, &quot;&quot;)));
  }

  /**
   * @return 
   */
  public   ElementType add_beforeIndex(final ElementType element, final Ordinal index)
  {
<span class="nc" id="L974">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;add_beforeIndex&quot;;</span>
<span class="nc" id="L975">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L976">    int i = this.checkRange(index);</span>
<span class="nc" id="L977">    this.registerType(((Object)element));</span>
<span class="nc" id="L978">    this.add_at(element, i);</span>
<span class="nc" id="L979">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   Collected&lt;ElementType&gt; removeAll(final Collected&lt;ElementType&gt; elements)
  {
<span class="nc" id="L987">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;removeAll&quot;;</span>
<span class="nc" id="L988">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L989">    elements.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L990">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L991">      return this.remove(element);</span>
    }, &quot;element&quot;));
<span class="nc" id="L993">    return (Collected&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   ElementType remove(final ElementType element)
  {
<span class="nc" id="L1001">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;remove&quot;;</span>
<span class="nc" id="L1002">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L1003">    return (ElementType)this.remove_ifAbsent(element, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L1004">      this.elementNotFound();</span>
<span class="nc" id="L1005">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType remove_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="nc" id="L1014">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;remove_ifAbsent&quot;;</span>
<span class="nc" id="L1015">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L1016">    return (ElementType)this.removeAtIndex(this.indexOf_ifAbsent(element, aBlock));</span>
  }

  /**
   * @return 
   */
  public   OrderedCollection&lt;ElementType&gt; removeAllSuchThat(final MonadicPredicate criteria)
  {
<span class="nc" id="L1024">    java.lang.String exitID = &quot;SequencedCollection&gt;&gt;removeAllSuchThat&quot;;</span>
<span class="nc" id="L1025">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L1026">    OrderedCollection&lt;ElementType&gt; results = OrderedCollection.type().$new();</span>
<span class="nc" id="L1027">    this.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L1028">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L1029">      return criteria.value(element).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L1030">      results.add(element);</span>
<span class="nc" id="L1031">    this.remove(element);</span>
<span class="nc" id="L1032">    }, &quot;&quot;));</span>
    }, &quot;element&quot;));
<span class="nc" id="L1034">    return (OrderedCollection&lt;ElementType&gt;)results;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>