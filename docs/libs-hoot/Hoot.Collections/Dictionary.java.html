<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Dictionary.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">libs-hoot</a> &gt; <a href="index.source.html" class="el_package">Hoot.Collections</a> &gt; <span class="el_source">Dictionary.java</span></div><h1>Dictionary.java</h1><pre class="source lang-java linenums">/**
* Copyright 2010,2021 Nikolas S Boyd.
Permission is granted to copy this work provided this copyright statement is retained in all copies.

*/
package Hoot.Collections;

import Hoot.Runtime.Functions.*;
import Hoot.Runtime.Faces.*;
import Hoot.Runtime.Values.*;
import Hoot.Runtime.Blocks.*;
import Smalltalk.Core.*;
import Smalltalk.Blocks.*;
import Hoot.Behaviors.*;
import Hoot.Behaviors.Nil;
import Hoot.Behaviors.Object;
import Hoot.Behaviors.True;
import Hoot.Behaviors.False;
import Hoot.Behaviors.Boolean;
import Hoot.Magnitudes.*;
import Hoot.Magnitudes.Integer;
import Hoot.Magnitudes.Character;
import Hoot.Magnitudes.Float;
import Hoot.Magnitudes.Double;
import Hoot.Magnitudes.Integer;
import Hoot.Streams.WriteStream;
import Hoot.Runtime.Names.Primitive;
import Smalltalk.Core.Posit;
import Smalltalk.Core.Subject;
import Smalltalk.Collections.*;
import Smalltalk.Magnitudes.Ordinal;
import Smalltalk.Magnitudes.Scalar;
import Smalltalk.Magnitudes.Associated;

public class Dictionary&lt;KeyType extends Object, ElementType extends Object&gt; extends Collection&lt;ElementType&gt; implements CollectedDictionary&lt;KeyType, ElementType&gt;
{

<span class="fc" id="L38">  public static Metaclass type() { return (Metaclass)Metaclass.$class; }</span>
<span class="nc" id="L39">  @Override public Metaclass $class() { return (Metaclass)Metaclass.$class; }</span>
  public static class Metaclass extends Collection.Metaclass implements CollectedDictionary.Metatype
  {
<span class="fc" id="L42">    static final Dictionary.Metaclass $class = new Dictionary.Metaclass();</span>
    public Metaclass() {
<span class="fc" id="L44">      this(Dictionary.Metaclass.class);</span>
<span class="fc" id="L45">    }</span>

    public Metaclass(java.lang.Class aClass) {
<span class="fc" id="L48">      super(aClass);</span>
<span class="fc" id="L49">    }</span>

<span class="fc" id="L51">    @Override public java.lang.Class outerClass() { return Dictionary.class; }</span>


    /**
     * @return 
     */
    @Override public   Dictionary $new()
    {
<span class="fc" id="L59">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;$new&quot;;</span>
<span class="fc" id="L60">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L61">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L62">      return (Dictionary)f0.exit(exitID, this.$new(SmallInteger.from(10)));</span>
      });
    }

    /**
     * @return 
     */
    @Override public   Dictionary $new(final Ordinal capacity)
    {
<span class="fc" id="L71">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;$new&quot;;</span>
<span class="fc" id="L72">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L73">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L74">      return (Dictionary)f0.exit(exitID, new Dictionary(capacity));</span>
      });
    }

    /**
     * @return 
     */
    public  &lt;ElementType extends Subject, KeyType extends Scalar&gt; Dictionary withAll(final CollectedDictionary&lt;KeyType, ElementType&gt; pairedElements)
    {
<span class="fc" id="L83">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;withAll&quot;;</span>
<span class="fc" id="L84">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L85">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L86">      Dictionary results = this.$new(pairedElements.size());</span>
<span class="fc" id="L87">      pairedElements.keysAndValuesDo(Closure.with(f3 -&gt; {</span>
<span class="fc" id="L88">        KeyType key = f3.getValue(0).value();</span>
<span class="fc" id="L89">        ElementType value = f3.getValue(1).value();</span>
<span class="fc" id="L90">        results.at_put(((Object)key), ((Object)value));</span>
<span class="fc" id="L91">      }, &quot;key&quot;, &quot;value&quot;));</span>
<span class="fc" id="L92">      return (Dictionary)f0.exit(exitID, results);</span>
      });
    }

    /**
     * @return 
     */
    public   Dictionary from(final java.util.Map primitiveMap)
    {
<span class="fc" id="L101">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;from&quot;;</span>
<span class="fc" id="L102">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L103">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L104">      return (Dictionary)f0.exit(exitID, new Dictionary(primitiveMap));</span>
      });
    }

    /**
     * @return 
     */
    public   Dictionary synchronizedFrom(final java.util.Map primitiveMap)
    {
<span class="fc" id="L113">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;synchronizedFrom&quot;;</span>
<span class="fc" id="L114">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L115">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L116">      return (Dictionary)f0.exit(exitID, this.from(primitiveMap));</span>
      });
    }
  }


  protected java.util.Map&lt;KeyType, ElementType&gt; contents;

  /**
   * 
   */
  protected    Dictionary()
  {
<span class="fc" id="L129">    this(new java.util.HashMap());</span>
<span class="fc" id="L130">    java.lang.String exitID = &quot;Dictionary&gt;&gt;Dictionary&quot;;</span>
<span class="fc" id="L131">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L132">  }</span>

  /**
   * 
   */
  protected    Dictionary(final Ordinal capacity)
  {
<span class="fc" id="L139">    this(new java.util.HashMap(capacity.intValue()));</span>
<span class="fc" id="L140">    java.lang.String exitID = &quot;Dictionary&gt;&gt;Dictionary&quot;;</span>
<span class="fc" id="L141">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L142">  }</span>

  /**
   * 
   */
  protected    Dictionary(final java.util.Map primitiveMap)
<span class="fc" id="L148">  {</span>
<span class="fc" id="L149">    java.lang.String exitID = &quot;Dictionary&gt;&gt;Dictionary&quot;;</span>
<span class="fc" id="L150">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L151">     contents = java.util.Collections.synchronizedMap(primitiveMap);</span>
<span class="fc" id="L152">  }</span>

  /**
   * @return 
   */
  public   java.util.Map primitiveContents()
  {
<span class="fc" id="L159">    java.lang.String exitID = &quot;Dictionary&gt;&gt;primitiveContents&quot;;</span>
<span class="fc" id="L160">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L161">    return (java.util.Map)contents;</span>
  }

  /**
   * @return 
   */
  @Override public   Integer size()
  {
<span class="fc" id="L169">    java.lang.String exitID = &quot;Dictionary&gt;&gt;size&quot;;</span>
<span class="fc" id="L170">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L171">    return (Integer)SmallInteger.from(contents.size());</span>
  }

  /**
   * @return 
   */
  public   Set&lt;KeyType&gt; keys()
  {
<span class="fc" id="L179">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keys&quot;;</span>
<span class="fc" id="L180">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L181">    return (Set&lt;KeyType&gt;)Set.from(contents.keySet());</span>
  }

  /**
   * @return 
   */
  public   KeyType indexOf(final ElementType element)
  {
<span class="fc" id="L189">    java.lang.String exitID = &quot;Dictionary&gt;&gt;indexOf&quot;;</span>
<span class="fc" id="L190">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L191">    return (KeyType)this.indexOf_ifAbsent(element, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L192">      this.elementNotFound();</span>
<span class="nc" id="L193">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   KeyType indexOf_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="fc" id="L202">    java.lang.String exitID = &quot;Dictionary&gt;&gt;indexOf_ifAbsent&quot;;</span>
<span class="fc" id="L203">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L204">    KeyType key = Primitive.findKey(element, contents);</span>
<span class="pc bpc" id="L205" title="2 of 4 branches missed.">    return (KeyType)(Boolean.primitiveValue((key == null)) ? aBlock.value() : key);</span>
  }

  /**
   * @return 
   */
  public   KeyType keyAtValue(final ElementType element)
  {
<span class="fc" id="L213">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keyAtValue&quot;;</span>
<span class="fc" id="L214">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L215">    return (KeyType)this.indexOf(element);</span>
  }

  /**
   * @return 
   */
  public   KeyType keyAtValue_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="nc" id="L223">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keyAtValue_ifAbsent&quot;;</span>
<span class="nc" id="L224">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L225">    return (KeyType)this.indexOf_ifAbsent(element, aBlock);</span>
  }

  /**
   * @return 
   */
  public   ElementType at(final KeyType index)
  {
<span class="fc" id="L233">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at&quot;;</span>
<span class="fc" id="L234">    Frame f0 = new Frame(exitID);</span>
<span class="pc bpc" id="L235" title="1 of 2 branches missed.">    if (contents.containsKey(index)) {</span>
<span class="fc" id="L236">      return contents.get(index);</span>
    };
<span class="nc" id="L238">    this.elementNotFound();</span>
<span class="nc" id="L239">    return (ElementType)null;</span>
  }

  /**
   * @return 
   */
  public   ElementType at_ifAbsent(final KeyType index, final NiladicValuable aBlock)
  {
<span class="fc" id="L247">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at_ifAbsent&quot;;</span>
<span class="fc" id="L248">    Frame f0 = new Frame(exitID);</span>
<span class="fc bfc" id="L249" title="All 2 branches covered.">    if (contents.containsKey(index)) {</span>
<span class="fc" id="L250">      return contents.get(index);</span>
    };
<span class="fc" id="L252">    return (ElementType)aBlock.value();</span>
  }

  /**
   * @return 
   */
  public   ElementType at_ifAbsentPut(final KeyType index, final NiladicValuable aBlock)
  {
<span class="nc" id="L260">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at_ifAbsentPut&quot;;</span>
<span class="nc" id="L261">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L262">    return (ElementType)this.at_ifAbsent(index, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L263">      return this.at_put(index, aBlock.value());</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType at_put(final KeyType index, final ElementType element)
  {
<span class="fc" id="L272">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at_put&quot;;</span>
<span class="fc" id="L273">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L274">    contents.put(index, element);</span>
<span class="fc" id="L275">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType atAll_put(final CollectedDistinctly&lt;KeyType&gt; indices, final ElementType element)
  {
<span class="nc" id="L283">    java.lang.String exitID = &quot;Dictionary&gt;&gt;atAll_put&quot;;</span>
<span class="nc" id="L284">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L285">    indices.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L286">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L287">      return this.at_put(key, element);</span>
    }, &quot;key&quot;));
<span class="nc" id="L289">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType atAllPut(final ElementType element)
  {
<span class="nc" id="L297">    java.lang.String exitID = &quot;Dictionary&gt;&gt;atAllPut&quot;;</span>
<span class="nc" id="L298">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L299">    return (ElementType)this.atAll_put(this.keys(), element);</span>
  }

  /**
   * @return 
   */
  public   OrderedCollection&lt;ElementType&gt; values()
  {
<span class="fc" id="L307">    java.lang.String exitID = &quot;Dictionary&gt;&gt;values&quot;;</span>
<span class="fc" id="L308">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L309">    OrderedCollection&lt;ElementType&gt; results = OrderedCollection.type().$new(this.size());</span>
<span class="fc" id="L310">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L311">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L312">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L313">      return results.add(element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L315">    return (OrderedCollection&lt;ElementType&gt;)results;</span>
  }

  /**
   * @return 
   */
  public   ElementType add(final ElementType element)
  {
<span class="nc" id="L323">    java.lang.String exitID = &quot;Dictionary&gt;&gt;add&quot;;</span>
<span class="nc" id="L324">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L325">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   Collected&lt;ElementType&gt; addAll(final Collected&lt;ElementType&gt; elements)
  {
<span class="nc" id="L333">    java.lang.String exitID = &quot;Dictionary&gt;&gt;addAll&quot;;</span>
<span class="nc" id="L334">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L335">    return (Collected&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   Association add(final Associated pairedElement)
  {
<span class="nc" id="L343">    java.lang.String exitID = &quot;Dictionary&gt;&gt;add&quot;;</span>
<span class="nc" id="L344">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L345">    this.at_put(pairedElement.key(), ((ElementType)pairedElement.value()));</span>
<span class="nc" id="L346">    return (Association)((Association)pairedElement);</span>
  }

  /**
   * @return 
   */
  public   CollectedDictionary addAll(final CollectedDictionary&lt;KeyType, ElementType&gt; pairedElements)
  {
<span class="nc" id="L354">    java.lang.String exitID = &quot;Dictionary&gt;&gt;addAll&quot;;</span>
<span class="nc" id="L355">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L356">    pairedElements.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L357">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L358">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L359">      return this.at_put(key, element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L361">    return (CollectedDictionary)pairedElements;</span>
  }

  /**
   * @return 
   */
  public   Boolean equals(final Dictionary aCollection)
  {
<span class="fc" id="L369">    java.lang.String exitID = &quot;Dictionary&gt;&gt;equals&quot;;</span>
<span class="fc" id="L370">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L371">    return (Boolean)Boolean.from(contents.equals(aCollection.primitiveContents()));</span>
  }

  /**
   * @return 
   */
  @Override public   Boolean equals(final Collected aCollection)
  {
<span class="fc" id="L379">    java.lang.String exitID = &quot;Dictionary&gt;&gt;equals&quot;;</span>
<span class="fc" id="L380">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L381">    return (Boolean)Dictionary.type().accepts(aCollection).and(Predicate.with(f2 -&gt; {</span>
<span class="fc" id="L382">      return (this.equals(((Dictionary)aCollection)));</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  @Override public   int hashCode()
  {
<span class="nc" id="L391">    java.lang.String exitID = &quot;Dictionary&gt;&gt;hashCode&quot;;</span>
<span class="nc" id="L392">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L393">    return (int)contents.hashCode();</span>
  }

  /**
   * @return 
   */
  public   Dictionary associationsDo(final MonadicValuable aBlock)
  {
<span class="fc" id="L401">    java.lang.String exitID = &quot;Dictionary&gt;&gt;associationsDo&quot;;</span>
<span class="fc" id="L402">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L403">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L404">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L405">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L406">      return aBlock.value(Association.withKey_withValue(key, element));</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L408">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary collect(final MonadicValuable aBlock)
  {
<span class="nc" id="L416">    java.lang.String exitID = &quot;Dictionary&gt;&gt;collect&quot;;</span>
<span class="nc" id="L417">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L418">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="nc" id="L419">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L420">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L421">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L422">      return results.at_put(key, aBlock.value(element));</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L424">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary $do(final MonadicValuable aBlock)
  {
<span class="nc" id="L432">    java.lang.String exitID = &quot;Dictionary&gt;&gt;$do&quot;;</span>
<span class="nc" id="L433">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L434">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L435">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L436">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L437">      return aBlock.value(element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L439">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary keysAndValuesDo(final DyadicValuable aBlock)
  {
<span class="fc" id="L447">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keysAndValuesDo&quot;;</span>
<span class="fc" id="L448">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L449">    this.keys().$do(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L450">      Scalar key = f2.getValue(0).value();</span>
<span class="fc" id="L451">      return aBlock.value_value(key, contents.get(key));</span>
    }, &quot;key&quot;));
<span class="fc" id="L453">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary sortedKeysAndValuesDo(final DyadicValuable aBlock)
  {
<span class="fc" id="L461">    java.lang.String exitID = &quot;Dictionary&gt;&gt;sortedKeysAndValuesDo&quot;;</span>
<span class="fc" id="L462">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L463">    this.keys().sorted().$do(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L464">      Scalar key = f2.getValue(0).value();</span>
<span class="fc" id="L465">      return aBlock.value_value(key, contents.get(key));</span>
    }, &quot;key&quot;));
<span class="fc" id="L467">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary keysDo(final MonadicValuable aBlock)
  {
<span class="fc" id="L475">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keysDo&quot;;</span>
<span class="fc" id="L476">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L477">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L478">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L479">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L480">      return aBlock.value(key);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L482">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary valuesDo(final MonadicValuable aBlock)
  {
<span class="fc" id="L490">    java.lang.String exitID = &quot;Dictionary&gt;&gt;valuesDo&quot;;</span>
<span class="fc" id="L491">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L492">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L493">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L494">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L495">      return aBlock.value(element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L497">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary reject(final MonadicPredicate aBlock)
  {
<span class="fc" id="L505">    java.lang.String exitID = &quot;Dictionary&gt;&gt;reject&quot;;</span>
<span class="fc" id="L506">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L507">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="fc" id="L508">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L509">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L510">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L511">      return aBlock.value(element).ifFalse(Closure.with(f3 -&gt; {</span>
<span class="fc" id="L512">      return results.at_put(key, element);</span>
    }, &quot;&quot;));
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L515">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary select(final MonadicPredicate aBlock)
  {
<span class="fc" id="L523">    java.lang.String exitID = &quot;Dictionary&gt;&gt;select&quot;;</span>
<span class="fc" id="L524">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L525">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="fc" id="L526">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L527">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L528">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L529">      return aBlock.value(element).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="fc" id="L530">      return results.at_put(key, element);</span>
    }, &quot;&quot;));
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L533">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  public   Dictionary removeAll()
  {
<span class="fc" id="L541">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAll&quot;;</span>
<span class="fc" id="L542">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L543">    contents.clear();</span>
<span class="fc" id="L544">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   ElementType removeKey(final KeyType key)
  {
<span class="nc" id="L552">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeKey&quot;;</span>
<span class="nc" id="L553">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L554">    return (ElementType)this.removeKey_ifAbsent(key, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L555">      this.elementNotFound();</span>
<span class="nc" id="L556">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType removeKey_ifAbsent(final KeyType key, final NiladicValuable aBlock)
  {
<span class="nc" id="L565">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeKey_ifAbsent&quot;;</span>
<span class="nc" id="L566">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L567">    ElementType result = this.at_ifAbsent(key, aBlock);</span>
<span class="nc" id="L568">    contents.remove(key);</span>
<span class="nc" id="L569">    return (ElementType)result;</span>
  }

  /**
   * @return 
   */
  public   Dictionary removeAllKeys(final CollectedDistinctly&lt;KeyType&gt; keys)
  {
<span class="nc" id="L577">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAllKeys&quot;;</span>
<span class="nc" id="L578">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L579">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L580">    this.removeAllKeys_ifAbsent(keys, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L581">      this.elementNotFound();</span>
<span class="nc" id="L582">    return (Dictionary)f0.exit(exitID, Nil.literal().asPrimitive());</span>
    }, &quot;&quot;));
<span class="nc" id="L584">    return (Dictionary)this;</span>
    });
  }

  /**
   * @return 
   */
  public   Dictionary removeAllKeys_ifAbsent(final CollectedDistinctly&lt;KeyType&gt; keys, final MonadicValuable aBlock)
  {
<span class="nc" id="L593">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAllKeys_ifAbsent&quot;;</span>
<span class="nc" id="L594">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L595">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="nc" id="L596">    keys.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L597">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L598">      results.at_put(key, this.removeKey_ifAbsent(key, Closure.with(f3 -&gt; {</span>
<span class="nc" id="L599">      return aBlock.value(key);</span>
    }, &quot;&quot;)));
<span class="nc" id="L601">    }, &quot;key&quot;));</span>
<span class="nc" id="L602">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  public   ElementType remove(final ElementType element)
  {
<span class="nc" id="L610">    java.lang.String exitID = &quot;Dictionary&gt;&gt;remove&quot;;</span>
<span class="nc" id="L611">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L612">    return (ElementType)this.remove_ifAbsent(element, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L613">      this.elementNotFound();</span>
<span class="nc" id="L614">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType remove_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="nc" id="L623">    java.lang.String exitID = &quot;Dictionary&gt;&gt;remove_ifAbsent&quot;;</span>
<span class="nc" id="L624">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L625">    return (ElementType)this.removeKey(this.keyAtValue_ifAbsent(element, aBlock));</span>
  }

  /**
   * @return 
   */
  public   Collected&lt;ElementType&gt; removeAll(final Collected&lt;ElementType&gt; elements)
  {
<span class="nc" id="L633">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAll&quot;;</span>
<span class="nc" id="L634">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L635">    elements.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L636">      ElementType element = f2.getValue(0).value();</span>
      
<span class="nc" id="L638">    KeyType key = this.keyAtValue(element);</span>
<span class="nc" id="L639">    return key.notNil().ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L640">      return this.removeKey(key);</span>
    }, &quot;&quot;));
    }, &quot;element&quot;));
<span class="nc" id="L643">    return (Collected&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   OrderedCollection&lt;ElementType&gt; removeAllSuchThat(final MonadicPredicate criteria)
  {
<span class="nc" id="L651">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAllSuchThat&quot;;</span>
<span class="nc" id="L652">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L653">    OrderedCollection&lt;ElementType&gt; results = OrderedCollection.type().$new();</span>
<span class="nc" id="L654">    this.valuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L655">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L656">      return criteria.value(element).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L657">      results.add(element);</span>
<span class="nc" id="L658">    this.removeKey(this.keyAtValue(element));</span>
<span class="nc" id="L659">    }, &quot;&quot;));</span>
    }, &quot;element&quot;));
<span class="nc" id="L661">    return (OrderedCollection&lt;ElementType&gt;)results;</span>
  }

  /**
   * @return 
   */
  @Override public   boolean isEmpty()
  {
<span class="nc" id="L669">    java.lang.String exitID = &quot;Dictionary&gt;&gt;isEmpty&quot;;</span>
<span class="nc" id="L670">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L671">    return (boolean)contents.isEmpty();</span>
  }

  /**
   * @return 
   */
  @Override public   Boolean includes(final Subject element)
  {
<span class="fc" id="L679">    java.lang.String exitID = &quot;Dictionary&gt;&gt;includes&quot;;</span>
<span class="fc" id="L680">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L681">    return (Boolean)Boolean.from(contents.containsValue(((ElementType)element)));</span>
  }

  /**
   * @return 
   */
  public   Boolean includesIndex(final KeyType index)
  {
<span class="fc" id="L689">    java.lang.String exitID = &quot;Dictionary&gt;&gt;includesIndex&quot;;</span>
<span class="fc" id="L690">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L691">    return (Boolean)Boolean.from(contents.containsKey(index));</span>
  }

  /**
   * @return 
   */
  public   Posit includesKey(final KeyType key)
  {
<span class="fc" id="L699">    java.lang.String exitID = &quot;Dictionary&gt;&gt;includesKey&quot;;</span>
<span class="fc" id="L700">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L701">    return (Posit)this.includesIndex(key);</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>