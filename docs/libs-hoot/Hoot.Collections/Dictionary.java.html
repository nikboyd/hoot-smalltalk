<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Dictionary.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">libs-hoot</a> &gt; <a href="index.source.html" class="el_package">Hoot.Collections</a> &gt; <span class="el_source">Dictionary.java</span></div><h1>Dictionary.java</h1><pre class="source lang-java linenums">/**
* Copyright 2010,2021 Nikolas S Boyd.
Permission is granted to copy this work provided this copyright statement is retained in all copies.

*/
package Hoot.Collections;

import Hoot.Runtime.Functions.*;
import Hoot.Runtime.Faces.*;
import Hoot.Runtime.Values.*;
import Hoot.Runtime.Blocks.*;
import Smalltalk.Core.*;
import Smalltalk.Blocks.*;
import Hoot.Behaviors.*;
import Hoot.Behaviors.Nil;
import Hoot.Behaviors.Object;
import Hoot.Behaviors.True;
import Hoot.Behaviors.False;
import Hoot.Behaviors.Boolean;
import Hoot.Magnitudes.*;
import Hoot.Magnitudes.Integer;
import Hoot.Magnitudes.Character;
import Hoot.Magnitudes.Float;
import Hoot.Magnitudes.Double;
import Hoot.Magnitudes.Integer;
import Hoot.Streams.WriteStream;
import Smalltalk.Core.Posit;
import Smalltalk.Core.Subject;
import Smalltalk.Collections.*;
import Smalltalk.Magnitudes.Ordinal;
import Smalltalk.Magnitudes.Scalar;
import Smalltalk.Magnitudes.Associated;

public class Dictionary&lt;KeyType extends Object, ElementType extends Object&gt; extends Collection&lt;ElementType&gt; implements CollectedDictionary&lt;KeyType, ElementType&gt;
{
<span class="fc" id="L36">  public static Metaclass type() { return (Metaclass)Metaclass.$class; }</span>
<span class="nc" id="L37">  @Override public Metaclass $class() { return (Metaclass)Metaclass.$class; }</span>
  public static class Metaclass extends Collection.Metaclass implements CollectedDictionary.Metatype
  {
<span class="fc" id="L40">    static final Dictionary.Metaclass $class = new Dictionary.Metaclass();</span>
    public Metaclass() {
<span class="fc" id="L42">      this(Dictionary.Metaclass.class);</span>
<span class="fc" id="L43">    }</span>

    public Metaclass(java.lang.Class aClass) {
<span class="fc" id="L46">      super(aClass);</span>
<span class="fc" id="L47">    }</span>

<span class="fc" id="L49">    @Override public java.lang.Class outerClass() { return Dictionary.class; }</span>

    /**
     * @return 
     */
    @Override public   Dictionary $new()
    {
<span class="fc" id="L56">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;$new&quot;;</span>
<span class="fc" id="L57">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L58">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L59">      return (Dictionary)f0.exit(exitID, this.$new(SmallInteger.from(10)));</span>
      });
    }

    /**
     * @return 
     */
    @Override public   Dictionary $new(final Ordinal capacity)
    {
<span class="fc" id="L68">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;$new&quot;;</span>
<span class="fc" id="L69">      Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L70">      return f0.evaluate(() -&gt; {</span>
<span class="fc" id="L71">      return (Dictionary)f0.exit(exitID, new Dictionary(capacity));</span>
      });
    }

    /**
     * @return 
     */
    public  &lt;ElementType extends Subject, KeyType extends Scalar&gt; Dictionary withAll(final CollectedDictionary&lt;KeyType, ElementType&gt; pairedElements)
    {
<span class="nc" id="L80">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;withAll&quot;;</span>
<span class="nc" id="L81">      Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L82">      return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L83">      Dictionary results = this.$new(pairedElements.size());</span>
<span class="nc" id="L84">      pairedElements.keysAndValuesDo(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L85">        KeyType key = f3.getValue(0).value();</span>
<span class="nc" id="L86">        ElementType value = f3.getValue(1).value();</span>
<span class="nc" id="L87">        results.at_put(((Magnitude)key), ((Object)value));</span>
<span class="nc" id="L88">      }, &quot;key&quot;, &quot;value&quot;));</span>
<span class="nc" id="L89">      return (Dictionary)f0.exit(exitID, results);</span>
      });
    }

    /**
     * @return 
     */
    public   Dictionary from(final java.util.Map primitiveMap)
    {
<span class="nc" id="L98">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;from&quot;;</span>
<span class="nc" id="L99">      Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L100">      return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L101">      return (Dictionary)f0.exit(exitID, new Dictionary(primitiveMap));</span>
      });
    }

    /**
     * @return 
     */
    public   Dictionary synchronizedFrom(final java.util.Map primitiveMap)
    {
<span class="nc" id="L110">      java.lang.String exitID = &quot;DictionaryMetatype&gt;&gt;synchronizedFrom&quot;;</span>
<span class="nc" id="L111">      Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L112">      return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L113">      return (Dictionary)f0.exit(exitID, this.from(primitiveMap));</span>
      });
    }
  }


  protected java.util.Map&lt;KeyType, ElementType&gt; contents;
  /**
   * 
   */
  protected    Dictionary()
  {
<span class="fc" id="L125">    this(new java.util.HashMap());</span>
<span class="fc" id="L126">    java.lang.String exitID = &quot;Dictionary&gt;&gt;Dictionary&quot;;</span>
<span class="fc" id="L127">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L128">  }</span>

  /**
   * 
   */
  protected    Dictionary(final Ordinal capacity)
  {
<span class="fc" id="L135">    this(new java.util.HashMap(capacity.intValue()));</span>
<span class="fc" id="L136">    java.lang.String exitID = &quot;Dictionary&gt;&gt;Dictionary&quot;;</span>
<span class="fc" id="L137">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L138">  }</span>

  /**
   * 
   */
  protected    Dictionary(final java.util.Map primitiveMap)
<span class="fc" id="L144">  {</span>
<span class="fc" id="L145">    java.lang.String exitID = &quot;Dictionary&gt;&gt;Dictionary&quot;;</span>
<span class="fc" id="L146">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L147">     contents = java.util.Collections.synchronizedMap(primitiveMap);</span>
<span class="fc" id="L148">  }</span>

  /**
   * @return 
   */
  public   java.util.Map primitiveContents()
  {
<span class="nc" id="L155">    java.lang.String exitID = &quot;Dictionary&gt;&gt;primitiveContents&quot;;</span>
<span class="nc" id="L156">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L157">    return (java.util.Map)contents;</span>
  }

  /**
   * @return 
   */
  @Override public   Integer size()
  {
<span class="fc" id="L165">    java.lang.String exitID = &quot;Dictionary&gt;&gt;size&quot;;</span>
<span class="fc" id="L166">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L167">    return (Integer)SmallInteger.from(contents.size());</span>
  }

  /**
   * @return 
   */
  public   Set&lt;KeyType&gt; keys()
  {
<span class="fc" id="L175">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keys&quot;;</span>
<span class="fc" id="L176">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L177">    return (Set&lt;KeyType&gt;)Set.from(contents.keySet());</span>
  }

  /**
   * @return 
   */
  public   KeyType indexOf(final ElementType element)
  {
<span class="nc" id="L185">    java.lang.String exitID = &quot;Dictionary&gt;&gt;indexOf&quot;;</span>
<span class="nc" id="L186">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L187">    return (KeyType)this.indexOf_ifAbsent(element, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L188">      this.elementNotFound();</span>
<span class="nc" id="L189">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   KeyType indexOf_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="nc" id="L198">    java.lang.String exitID = &quot;Dictionary&gt;&gt;indexOf_ifAbsent&quot;;</span>
<span class="nc" id="L199">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L200">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L201">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L202">      Hoot.Behaviors.Object key = f2.getValue(0).value();</span>
<span class="nc" id="L203">      Hoot.Behaviors.Object value = f2.getValue(1).value();</span>
<span class="nc" id="L204">      return (KeyType)f0.exit(exitID, (value.equals(element)).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L205">      return (KeyType)f0.exit(exitID, key);</span>
    }, &quot;&quot;)));
    }, &quot;key&quot;, &quot;value&quot;));
<span class="nc" id="L208">    return (KeyType)f0.exit(exitID, aBlock.value());</span>
    });
  }

  /**
   * @return 
   */
  public   KeyType keyAtValue(final ElementType element)
  {
<span class="nc" id="L217">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keyAtValue&quot;;</span>
<span class="nc" id="L218">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L219">    return (KeyType)this.indexOf(element);</span>
  }

  /**
   * @return 
   */
  public   KeyType keyAtValue_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="nc" id="L227">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keyAtValue_ifAbsent&quot;;</span>
<span class="nc" id="L228">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L229">    return (KeyType)this.indexOf_ifAbsent(element, aBlock);</span>
  }

  /**
   * @return 
   */
  public   ElementType at(final KeyType index)
  {
<span class="nc" id="L237">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at&quot;;</span>
<span class="nc" id="L238">    Frame f0 = new Frame(exitID);</span>
<span class="nc bnc" id="L239" title="All 2 branches missed.">    if (contents.containsKey(index)) {</span>
<span class="nc" id="L240">      return contents.get(index);</span>
    };
<span class="nc" id="L242">    this.elementNotFound();</span>
<span class="nc" id="L243">    return (ElementType)null;</span>
  }

  /**
   * @return 
   */
  public   ElementType at_ifAbsent(final KeyType index, final NiladicValuable aBlock)
  {
<span class="fc" id="L251">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at_ifAbsent&quot;;</span>
<span class="fc" id="L252">    Frame f0 = new Frame(exitID);</span>
<span class="fc bfc" id="L253" title="All 2 branches covered.">    if (contents.containsKey(index)) {</span>
<span class="fc" id="L254">      return contents.get(index);</span>
    };
<span class="fc" id="L256">    return (ElementType)aBlock.value();</span>
  }

  /**
   * @return 
   */
  public   ElementType at_ifAbsentPut(final KeyType index, final NiladicValuable aBlock)
  {
<span class="nc" id="L264">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at_ifAbsentPut&quot;;</span>
<span class="nc" id="L265">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L266">    return (ElementType)this.at_ifAbsent(index, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L267">      return this.at_put(index, aBlock.value());</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType at_put(final KeyType index, final ElementType element)
  {
<span class="fc" id="L276">    java.lang.String exitID = &quot;Dictionary&gt;&gt;at_put&quot;;</span>
<span class="fc" id="L277">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L278">    contents.put(index, element);</span>
<span class="fc" id="L279">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType atAll_put(final CollectedDistinctly&lt;KeyType&gt; indices, final ElementType element)
  {
<span class="nc" id="L287">    java.lang.String exitID = &quot;Dictionary&gt;&gt;atAll_put&quot;;</span>
<span class="nc" id="L288">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L289">    indices.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L290">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L291">      return this.at_put(key, element);</span>
    }, &quot;key&quot;));
<span class="nc" id="L293">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   ElementType atAllPut(final ElementType element)
  {
<span class="nc" id="L301">    java.lang.String exitID = &quot;Dictionary&gt;&gt;atAllPut&quot;;</span>
<span class="nc" id="L302">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L303">    return (ElementType)this.atAll_put(this.keys(), element);</span>
  }

  /**
   * @return 
   */
  public   CollectedSequentially&lt;ElementType&gt; values()
  {
<span class="nc" id="L311">    java.lang.String exitID = &quot;Dictionary&gt;&gt;values&quot;;</span>
<span class="nc" id="L312">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L313">    OrderedCollection&lt;ElementType&gt; results = OrderedCollection.type().$new(this.size());</span>
<span class="nc" id="L314">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L315">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L316">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L317">      return results.add(element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L319">    return (CollectedSequentially&lt;ElementType&gt;)results;</span>
  }

  /**
   * @return 
   */
  public   ElementType add(final ElementType element)
  {
<span class="nc" id="L327">    java.lang.String exitID = &quot;Dictionary&gt;&gt;add&quot;;</span>
<span class="nc" id="L328">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L329">    return (ElementType)element;</span>
  }

  /**
   * @return 
   */
  public   Collected&lt;ElementType&gt; addAll(final Collected&lt;ElementType&gt; elements)
  {
<span class="nc" id="L337">    java.lang.String exitID = &quot;Dictionary&gt;&gt;addAll&quot;;</span>
<span class="nc" id="L338">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L339">    return (Collected&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   Association add(final Associated pairedElement)
  {
<span class="nc" id="L347">    java.lang.String exitID = &quot;Dictionary&gt;&gt;add&quot;;</span>
<span class="nc" id="L348">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L349">    this.at_put(pairedElement.key(), ((ElementType)pairedElement.value()));</span>
<span class="nc" id="L350">    return (Association)((Association)pairedElement);</span>
  }

  /**
   * @return 
   */
  public   CollectedDictionary addAll(final CollectedDictionary&lt;KeyType, ElementType&gt; pairedElements)
  {
<span class="nc" id="L358">    java.lang.String exitID = &quot;Dictionary&gt;&gt;addAll&quot;;</span>
<span class="nc" id="L359">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L360">    pairedElements.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L361">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L362">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L363">      return this.at_put(key, element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L365">    return (CollectedDictionary)pairedElements;</span>
  }

  /**
   * @return 
   */
  public   Boolean equals(final Dictionary aCollection)
  {
<span class="nc" id="L373">    java.lang.String exitID = &quot;Dictionary&gt;&gt;equals&quot;;</span>
<span class="nc" id="L374">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L375">    return (Boolean)Boolean.from(contents.equals(aCollection.primitiveContents()));</span>
  }

  /**
   * @return 
   */
  @Override public   Boolean equals(final Collected aCollection)
  {
<span class="nc" id="L383">    java.lang.String exitID = &quot;Dictionary&gt;&gt;equals&quot;;</span>
<span class="nc" id="L384">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L385">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L386">    aCollection.isKindOf(Dictionary.type()).ifFalse(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L387">      return (Boolean)f0.exit(exitID, False.literal());</span>
    }, &quot;&quot;));
<span class="nc" id="L389">    return (Boolean)f0.exit(exitID, (this.equals(((Dictionary)aCollection))));</span>
    });
  }

  /**
   * @return 
   */
  @Override public   int hashCode()
  {
<span class="nc" id="L398">    java.lang.String exitID = &quot;Dictionary&gt;&gt;hashCode&quot;;</span>
<span class="nc" id="L399">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L400">    return (int)contents.hashCode();</span>
  }

  /**
   * @return 
   */
  public   Dictionary associationsDo(final MonadicValuable aBlock)
  {
<span class="fc" id="L408">    java.lang.String exitID = &quot;Dictionary&gt;&gt;associationsDo&quot;;</span>
<span class="fc" id="L409">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L410">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L411">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L412">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L413">      return aBlock.value(Association.withKey_withValue(key, element));</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L415">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary collect(final MonadicValuable aBlock)
  {
<span class="nc" id="L423">    java.lang.String exitID = &quot;Dictionary&gt;&gt;collect&quot;;</span>
<span class="nc" id="L424">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L425">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="nc" id="L426">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L427">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L428">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L429">      return results.at_put(key, aBlock.value(element));</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L431">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary $do(final MonadicValuable aBlock)
  {
<span class="nc" id="L439">    java.lang.String exitID = &quot;Dictionary&gt;&gt;$do&quot;;</span>
<span class="nc" id="L440">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L441">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L442">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L443">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L444">      return aBlock.value(element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L446">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary keysAndValuesDo(final DyadicValuable aBlock)
  {
<span class="fc" id="L454">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keysAndValuesDo&quot;;</span>
<span class="fc" id="L455">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L456">    this.keys().$do(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L457">      Scalar key = f2.getValue(0).value();</span>
<span class="fc" id="L458">      return aBlock.value_value(key, contents.get(key));</span>
    }, &quot;key&quot;));
<span class="fc" id="L460">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary sortedKeysAndValuesDo(final DyadicValuable aBlock)
  {
<span class="fc" id="L468">    java.lang.String exitID = &quot;Dictionary&gt;&gt;sortedKeysAndValuesDo&quot;;</span>
<span class="fc" id="L469">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L470">    this.keys().sorted().$do(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L471">      Scalar key = f2.getValue(0).value();</span>
<span class="fc" id="L472">      return aBlock.value_value(key, contents.get(key));</span>
    }, &quot;key&quot;));
<span class="fc" id="L474">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary keysDo(final MonadicValuable aBlock)
  {
<span class="fc" id="L482">    java.lang.String exitID = &quot;Dictionary&gt;&gt;keysDo&quot;;</span>
<span class="fc" id="L483">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L484">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L485">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L486">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L487">      return aBlock.value(key);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L489">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   Dictionary valuesDo(final MonadicValuable aBlock)
  {
<span class="fc" id="L497">    java.lang.String exitID = &quot;Dictionary&gt;&gt;valuesDo&quot;;</span>
<span class="fc" id="L498">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L499">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="fc" id="L500">      KeyType key = f2.getValue(0).value();</span>
<span class="fc" id="L501">      ElementType element = f2.getValue(1).value();</span>
<span class="fc" id="L502">      return aBlock.value(element);</span>
    }, &quot;key&quot;, &quot;element&quot;));
<span class="fc" id="L504">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary reject(final MonadicPredicate aBlock)
  {
<span class="nc" id="L512">    java.lang.String exitID = &quot;Dictionary&gt;&gt;reject&quot;;</span>
<span class="nc" id="L513">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L514">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="nc" id="L515">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L516">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L517">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L518">      return aBlock.value(element).ifFalse(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L519">      return results.at_put(key, element);</span>
    }, &quot;&quot;));
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L522">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  @Override public   Dictionary select(final MonadicPredicate aBlock)
  {
<span class="nc" id="L530">    java.lang.String exitID = &quot;Dictionary&gt;&gt;select&quot;;</span>
<span class="nc" id="L531">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L532">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="nc" id="L533">    this.keysAndValuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L534">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L535">      ElementType element = f2.getValue(1).value();</span>
<span class="nc" id="L536">      return aBlock.value(element).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L537">      return results.at_put(key, element);</span>
    }, &quot;&quot;));
    }, &quot;key&quot;, &quot;element&quot;));
<span class="nc" id="L540">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  public   Dictionary removeAll()
  {
<span class="fc" id="L548">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAll&quot;;</span>
<span class="fc" id="L549">    Frame f0 = new Frame(exitID);</span>
<span class="fc" id="L550">    contents.clear();</span>
<span class="fc" id="L551">    return (Dictionary)this;</span>
  }

  /**
   * @return 
   */
  public   ElementType removeKey(final KeyType key)
  {
<span class="nc" id="L559">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeKey&quot;;</span>
<span class="nc" id="L560">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L561">    return (ElementType)this.removeKey_ifAbsent(key, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L562">      this.elementNotFound();</span>
<span class="nc" id="L563">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType removeKey_ifAbsent(final KeyType key, final NiladicValuable aBlock)
  {
<span class="nc" id="L572">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeKey_ifAbsent&quot;;</span>
<span class="nc" id="L573">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L574">    ElementType result = this.at_ifAbsent(key, aBlock);</span>
<span class="nc" id="L575">    contents.remove(key);</span>
<span class="nc" id="L576">    return (ElementType)result;</span>
  }

  /**
   * @return 
   */
  public   Dictionary removeAllKeys(final CollectedDistinctly&lt;KeyType&gt; keys)
  {
<span class="nc" id="L584">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAllKeys&quot;;</span>
<span class="nc" id="L585">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L586">    return f0.evaluate(() -&gt; {</span>
<span class="nc" id="L587">    this.removeAllKeys_ifAbsent(keys, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L588">      this.elementNotFound();</span>
<span class="nc" id="L589">    return (Dictionary)f0.exit(exitID, Nil.literal().asPrimitive());</span>
    }, &quot;&quot;));
<span class="nc" id="L591">    return (Dictionary)this;</span>
    });
  }

  /**
   * @return 
   */
  public   Dictionary removeAllKeys_ifAbsent(final CollectedDistinctly&lt;KeyType&gt; keys, final MonadicValuable aBlock)
  {
<span class="nc" id="L600">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAllKeys_ifAbsent&quot;;</span>
<span class="nc" id="L601">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L602">    Dictionary results = Dictionary.type().$new(this.size());</span>
<span class="nc" id="L603">    keys.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L604">      KeyType key = f2.getValue(0).value();</span>
<span class="nc" id="L605">      results.at_put(key, this.removeKey_ifAbsent(key, Closure.with(f3 -&gt; {</span>
<span class="nc" id="L606">      return aBlock.value(key);</span>
    }, &quot;&quot;)));
<span class="nc" id="L608">    }, &quot;key&quot;));</span>
<span class="nc" id="L609">    return (Dictionary)results;</span>
  }

  /**
   * @return 
   */
  public   ElementType remove(final ElementType element)
  {
<span class="nc" id="L617">    java.lang.String exitID = &quot;Dictionary&gt;&gt;remove&quot;;</span>
<span class="nc" id="L618">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L619">    return (ElementType)this.remove_ifAbsent(element, Closure.with(f2 -&gt; {</span>
<span class="nc" id="L620">      this.elementNotFound();</span>
<span class="nc" id="L621">    return Nil.literal();</span>
    }, &quot;&quot;));
  }

  /**
   * @return 
   */
  public   ElementType remove_ifAbsent(final ElementType element, final NiladicValuable aBlock)
  {
<span class="nc" id="L630">    java.lang.String exitID = &quot;Dictionary&gt;&gt;remove_ifAbsent&quot;;</span>
<span class="nc" id="L631">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L632">    return (ElementType)this.removeKey(this.keyAtValue_ifAbsent(element, aBlock));</span>
  }

  /**
   * @return 
   */
  public   Collected&lt;ElementType&gt; removeAll(final Collected&lt;ElementType&gt; elements)
  {
<span class="nc" id="L640">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAll&quot;;</span>
<span class="nc" id="L641">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L642">    elements.$do(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L643">      ElementType element = f2.getValue(0).value();</span>
      
<span class="nc" id="L645">    KeyType key = this.keyAtValue(element);</span>
<span class="nc" id="L646">    return key.notNil().ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L647">      return this.removeKey(key);</span>
    }, &quot;&quot;));
    }, &quot;element&quot;));
<span class="nc" id="L650">    return (Collected&lt;ElementType&gt;)elements;</span>
  }

  /**
   * @return 
   */
  public   OrderedCollection&lt;ElementType&gt; removeAllSuchThat(final MonadicPredicate criteria)
  {
<span class="nc" id="L658">    java.lang.String exitID = &quot;Dictionary&gt;&gt;removeAllSuchThat&quot;;</span>
<span class="nc" id="L659">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L660">    OrderedCollection&lt;ElementType&gt; results = OrderedCollection.type().$new();</span>
<span class="nc" id="L661">    this.valuesDo(Closure.with(f2 -&gt; {</span>
<span class="nc" id="L662">      ElementType element = f2.getValue(0).value();</span>
<span class="nc" id="L663">      return criteria.value(element).ifTrue(Closure.with(f3 -&gt; {</span>
<span class="nc" id="L664">      results.add(element);</span>
<span class="nc" id="L665">    this.removeKey(this.keyAtValue(element));</span>
<span class="nc" id="L666">    }, &quot;&quot;));</span>
    }, &quot;element&quot;));
<span class="nc" id="L668">    return (OrderedCollection&lt;ElementType&gt;)results;</span>
  }

  /**
   * @return 
   */
  @Override public   Boolean isEmpty()
  {
<span class="nc" id="L676">    java.lang.String exitID = &quot;Dictionary&gt;&gt;isEmpty&quot;;</span>
<span class="nc" id="L677">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L678">    return (Boolean)Boolean.from(contents.isEmpty());</span>
  }

  /**
   * @return 
   */
  @Override public   Boolean includes(final Subject element)
  {
<span class="nc" id="L686">    java.lang.String exitID = &quot;Dictionary&gt;&gt;includes&quot;;</span>
<span class="nc" id="L687">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L688">    return (Boolean)Boolean.from(contents.containsValue(((ElementType)element)));</span>
  }

  /**
   * @return 
   */
  public   Boolean includesIndex(final KeyType index)
  {
<span class="nc" id="L696">    java.lang.String exitID = &quot;Dictionary&gt;&gt;includesIndex&quot;;</span>
<span class="nc" id="L697">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L698">    return (Boolean)Boolean.from(contents.containsKey(index));</span>
  }

  /**
   * @return 
   */
  public   Posit includesKey(final KeyType key)
  {
<span class="nc" id="L706">    java.lang.String exitID = &quot;Dictionary&gt;&gt;includesKey&quot;;</span>
<span class="nc" id="L707">    Frame f0 = new Frame(exitID);</span>
<span class="nc" id="L708">    return (Posit)this.includesIndex(key);</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>