@Notice :'Copyright 2010,2021 Nikolas S Boyd.
Permission is granted to copy this work provided this copyright statement is retained in all copies.
'!

TestBase subclass: MagnitudesTest.
"Regression tests Smalltalk Magnitudes."

MagnitudesTest members:
[
    Array! testBlocks := #(
        '[ 5 + 6 ]'
        '[ 5 - 6 ]'
        '[ 5 * 6 ]'
        '[ 5 / 6 ]'
        '[ 5 % 6 ]'
        ''
        '[ 5 ** 30 ]'
        '[ (5 - 6) abs ]'
        '[ (5 / 6) rounded ]'
        '[ (5 / 6) reciprocal ]'
        ''
        '[ 5 abs ]'
        '[ 5 rounded ]'
        '[ 5 factorial ]'
        '[ 5 even ]'
        '[ 5 odd ]'
        '[ 5 floor ]'
        '[ 5 ceiling ]'
        '[ 5 negated ]'
        '[ 5 codePoint negated ]'
        ''
        '[ 5 min: 6 ]'
        '[ 5 codePoint min: Scalar <- 6 ]'
        '[ 5 max: 6 ]'
        '[ 5 codePoint max: Scalar <- 6 ]'
        '[ 5 and: 6 ]'
        '[ 5 or: 6 ]'
        ''
        '[ 5 @ 6 ]'
        '[ 5 >> 6 ]'
        '[ (5 / 6) + (6 / 5) ]'
        '[ 20 squared sqrt ]'
        ''
        '[ 5 bitOr: 7 ]'
        '[ 5 codePoint bitOr: Ordinal <- 7 ]'
        '[ 5 bitXor: 7 ]'
        '[ 5 codePoint bitXor: Ordinal <- 7 ]'
        '[ 5 bitAnd: 7 ]'
        '[ 5 codePoint bitAnd: Ordinal <- 7 ]'
        '[ 5 bitAt: 2 ]'
        '[ 5 codePoint bitAt: 2 ]'
        '[ 5 bitAt: 2 put: 0 ]'
        '[ 5 bitShift: 5 ]'
        '[ 5 codePoint bitShift: Ordinal <- 5 ]'
        '[ 5 bitShift: 0 - 5 ]'
        ''
        '[ 5 codePoint equals: Magnitude <- 5 ]'
        '[ 5 codePoint lessThan: Scalar <- 6 ]'
        '[ 6 codePoint moreThan: Scalar <- 5 ]'
        ''
        '[ 11.1234s5 ]'
        '[ 11.1234s5 + 5 ]'
        '[ 11.1234s5 + 3.14s4 ]'
        '[ $c asUppercase ]'
        '[ $9 isDigit ]'
        ''
        '[ SmallInteger type maximum ]'
        '[ LongInteger type maximum ]'
        ''
        '[ ( 12 / 4 ) asDecimal ]'
        '[ ( 127 / 40 ) asDecimal ]'
        '[ ( 1274 / 405 ) asDecimal ]'
        '[ ( 12742 / 4056 ) asDecimal ]'
        '[ ( 127424 / 40560 ) asDecimal ]'
        '[ ( 1274249 / 405606 ) asDecimal ]'
        '[ ( 12742492 / 4056061 ) asDecimal ]'
        '[ ( 127424922 / 40560612 ) asDecimal ]'
        ''
        '[ ( 1274249220 / 405606124 ) asDecimal ]'
        '[ ( 12742492206 / 4056061243 ) asDecimal ]'
        '[ ( 127424922065 / 40560612439 ) asDecimal ]'
        '[ ( 1274249220651 / 405606124395 ) asDecimal ]'
        '[ ( 12742492206511 / 4056061243952 ) asDecimal ]'
        '[ ( 127424922065116 / 40560612439525 ) asDecimal ]'
        '[ ( 1274249220651168 / 405606124395257 ) asDecimal ]'
        '[ ( 12742492206511680 / 4056061243952573 ) asDecimal ]'
        ''
        '[ Float type pi ]'
        '[ Float type pi asFraction ]'
        '[ Float type pi asFraction asFloat ]'
        "[ Float type pi asFraction scaledZero ]"
        '[ Float type pi asFraction asScaledDecimal: 5 ]'
        ''
        '[ Double type pi ]'
        '[ Double type pi asFraction ]'
        '[ Double type pi asFraction asFloatD ]'
        ''
        '[ Double type pi cos ]'
        '[ Double type pi sin ]'
        '[ Double type pi tan ]'
        '[ Double type pi arcCos ]'
        '[ Double type pi arcSin ]'
        '[ Double type pi arcTan ]'
        ''
        '[ Double type pi negated ]'
        '[ Double type pi floor ]'
        '[ Double type pi ceiling ]'
        '[ Double type pi ln ]'
        ''
        '[ Double type epsilon ]'
        '[ Double type fminDenormalized ]'
        '[ Double type fminNormalized ]'
        '[ Double type zero ]'
        '[ Double type unity ]'
        '[ Double type e ]'
        '[ Double type emax ]'
        '[ Double type emin ]'
        '[ Double type fmax ]'
        '[ Double type fmin ]'
    ).

    Void! runTest [ (TestableCode withAll: testBlocks) runTests. ]
]
